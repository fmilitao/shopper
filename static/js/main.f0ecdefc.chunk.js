(this.webpackJsonpshopper=this.webpackJsonpshopper||[]).push([[0],{206:function(e){e.exports=JSON.parse('"U2FsdGVkX1+fQJLDSEAzZMOAYhweCLLA3pwYE1MXk5a0a4lHNr2m15+rsyIFKJE8AoJWEZiXku06oYzfqIg4VPbKT743FPcH4cpjE7Tvn+cgtG2qUVNMttGWhKiiG343y/Y1Aaeamy17613i2Iu7NAX+oeu6/c/yZXnhhfnahCGPUwZsKA909efxA1B6+ga1Z/i8EQ+Faz23TB7xTJM+9faCBJE6iLU9m21yo5YVzGnLOg3M+wg4F0AbUw5H1r2GIRwex78v9WjRCLvUpkWoYosYOVEZRlb4PbdS/FJ1fQ4ja/Tinm1ufWEBYA+/mVS9w1a9n1Pv58wZ6tVUagk3og=="')},222:function(e,t,n){e.exports=n(390)},227:function(e,t,n){},289:function(e,t){},291:function(e,t){},324:function(e,t){},325:function(e,t){},390:function(e,t,n){"use strict";n.r(t);var o,a=n(0),r=n.n(a),i=n(10),c=n.n(i),l=(n(227),n(13)),s=n(18),u=n(105),d=n(52),f=n(15),p=n.n(f),g=n(25),m=n(11),v={type:"object",required:["spreadsheetId","range","clientId","apiKey"],properties:{spreadsheetId:{type:"string",minLength:1},range:{type:"string",minLength:1},clientId:{type:"string",minLength:1},apiKey:{type:"string",minLength:1}}},h={title:"ShopperState",type:"object",properties:{selectedList:{type:"number"},sortMode:{type:"string",enum:["default","categories","alphabetic"]},itemClick:{type:"boolean"},googleSheetActions:{type:"boolean"},categoryMode:{type:"string",enum:["text","color","hidden"]},categoryColorMapper:{type:"object",patternProperties:{"^.*$":{type:"string"}},additionalProperties:!1},googleSheets:v,lists:{type:"array",minItems:0,items:{type:"object",required:["id","name","items"],properties:{id:{type:"string",minLength:1},name:{type:"string",minLength:1},items:{type:"array",minItems:0,items:{type:"object",required:["id","name","enabled"],properties:{id:{type:"string",minLength:1},name:{type:"string",minLength:1},comment:{type:"string"},enabled:{type:"boolean"},category:{type:"string",minLength:1}}}}}}}},additionalProperties:!1,required:["lists","categoryMode","sortMode"]};!function(e){e[e.ADD_LIST=0]="ADD_LIST",e[e.EDIT_LIST=1]="EDIT_LIST",e[e.ADD_ITEM=2]="ADD_ITEM",e[e.EDIT_ITEM=3]="EDIT_ITEM",e[e.SETUP_GOOGLE_SHEETS=4]="SETUP_GOOGLE_SHEETS"}(o||(o={}));var b=n(92),y=n.n(b);function E(e){var t=new y.a({allErrors:!0}).compile(h);if(t(e))return e;throw console.error("Existing state object:\n".concat(JSON.stringify(e,null,2),"\nFailed validation:\n").concat(JSON.stringify(t.errors,null,2))),Error("Invalid object")}var S=n(62),O=(n(266),S.c),C=function(){var e=Object(S.b)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[200,200],appendPosition:!0});return r.a.createElement(S.a,{transition:e,position:"bottom-left",autoClose:2e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1})},x=Date.now().toString(36),I=0;function k(e){return"".concat(e,"(").concat(x,":").concat(I++,")")}var L=function(){return k("item-id")},w=n(191);function j(e){var t=Object(w.a)(e),n=t[0],o=t[1],a=t.slice(2).map((function(e){return o.reduce((function(t,n,o){return void 0!==e[o]&&""!==e[o]&&(t[n]=e[o],"enabled"===n&&(t[n]="true"===t[n])),t}),{})})),r=a.filter((function(e){return e.id.startsWith("list-id")})).map((function(e){return e.items=a.filter((function(t){return t.id.startsWith("item-id")&&t.listId===e.id})).map((function(e){return delete e.listId,e})),e})),i=Object.fromEntries(n.map((function(e){return JSON.parse(e)})).map((function(e){return[e.key,e.value]})));return E(Object(s.a)({lists:r},i))}function T(e,t){var n=new Map,o=new Map,a=t?function(e,t){var a;if(o.has(e))return o.get(e);var r=(null!==(a=n.get(t))&&void 0!==a?a:0)+1,i="".concat(t,"-").concat(r);return n.set(t,r),o.set(e,i),i}:function(e){return e},r=e.lists.map((function(e){return{id:a(e.id,"list-id"),name:e.name}})),i=e.lists.flatMap((function(e){return e.items.map((function(t){return Object(s.a)({listId:a(e.id,"list-id")},t,{id:a(t.id,"item-id")})}))})),c=[].concat(Object(d.a)(r),Object(d.a)(i)),l=Array.from(c.reduce((function(e,t){return Object.keys(t).map((function(t){return e.add(t)})),e}),new Set)),u=c.map((function(e){return l.map((function(t){return void 0===e[t]?"":"".concat(e[t])}))}));u.unshift(l);var f=new Set(["sortMode","itemClick","categoryMode","categoryColorMapper"]),p=Object.entries(e).filter((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return f.has(n)})).map((function(e){var t=Object(m.a)(e,2),n=t[0],o=t[1];return JSON.stringify({key:n,value:o})}));return u.unshift(p),u}var D=/(.*) (\d+.*)/;function M(e){return null!==e}function A(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){var t=e.match(D);if(!t)return{name:e,comment:""};var n=Object(m.a)(t,3);return{name:n[1],comment:n[2]}})).filter(M)}function R(e){return e.map((function(e){var t=e.name,n=e.comment;return"".concat(t," ").concat(n)})).join("\n")}var N=["https://sheets.googleapis.com/$discovery/rest?version=v4"],G="https://www.googleapis.com/auth/spreadsheets";function P(e,t,n,o){n&&void 0!==e&&void 0!==t&&!P.loaded&&(P.loaded=!0,function(e,t,n){function o(){return a.apply(this,arguments)}function a(){return(a=Object(g.a)(p.a.mark((function o(){return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,gapi.client.init({apiKey:e,clientId:t,discoveryDocs:N,scope:G});case 3:gapi.auth2.getAuthInstance().isSignedIn.listen(n),n(gapi.auth2.getAuthInstance().isSignedIn.get()),o.next=11;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(JSON.stringify(o.t0,null,2)),n(!1);case 11:case"end":return o.stop()}}),o,null,[[0,7]])})))).apply(this,arguments)}var r=document.createElement("script");r.src="https://apis.google.com/js/client.js",r.onload=function(){gapi.load("client:auth2",o)},document.body.appendChild(r)}(e,t,o))}function U(e,t,n){return W.apply(this,arguments)}function W(){return(W=Object(g.a)(p.a.mark((function e(t,n,o){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.sheets.spreadsheets.values.batchUpdate({spreadsheetId:t},{valueInputOption:"RAW",data:{range:n,values:o}});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function _(e,t){return F.apply(this,arguments)}function F(){return(F=Object(g.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.sheets.spreadsheets.values.batchClear({spreadsheetId:t},{ranges:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return B.apply(this,arguments)}function B(){return(B=Object(g.a)(p.a.mark((function e(t,n){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.sheets.spreadsheets.values.get({spreadsheetId:t,range:n});case 2:return o=e.sent,e.abrupt("return",j(o.result.values));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P.loaded=!1;var K=function(e,t){return e>=0&&e<t.length},V=Object(u.b)({name:"shopper",initialState:function(){var e={selectedList:void 0,sortMode:"default",itemClick:!1,googleSheetActions:!1,categoryMode:"text",lists:[]};try{return function(e){var t=localStorage.getItem("shopper-state");return null===t?e:E(JSON.parse(t))}(e)}catch(t){O.error("Failed to load local state: ".concat(t))}return e}(),reducers:{setDefaultSort:function(e){e.sortMode="default"},setCategorySort:function(e){e.sortMode="categories"},setAlphabeticSort:function(e){e.sortMode="alphabetic"},toggleItemClick:function(e){e.itemClick=!e.itemClick},toggleGoogleSheetActions:function(e){e.googleSheetActions=!e.googleSheetActions},setTextCategoryMode:function(e){e.categoryMode="text"},setHiddenCategoryMode:function(e){e.categoryMode="hidden"},setColorCategoryMode:function(e){e.categoryMode="color"},addList:function(e,t){var n=t.payload,o=n.name,a=n.items;e.lists.push({id:k("list-id"),name:o,items:a.map((function(e){var t=e.name,n=e.comment;return{id:L(),name:t,comment:n,enabled:!0}}))})},editList:function(e,t){var n=e.dialogState;if(n&&n.type===o.EDIT_LIST){var a=n.index,r=t.payload;K(a,e.lists)&&(e.lists[a].name=r,O.info("List updated"))}},deleteList:function(e,t){var n=t.payload;if(K(n,e.lists)){var o=e.lists.splice(n,1),a=Object(m.a)(o,1)[0];void 0===e.listUndo&&(e.listUndo=[]),e.listUndo.push(a),O.info('List "'.concat(a.name,'" deleted'))}},selectList:function(e,t){e.selectedList=t.payload},deselectList:function(e){e.selectedList=void 0,e.itemUndo=void 0},undoItemDeletion:function(e){var t=e.selectedList;if(void 0!==t&&K(t,e.lists)&&void 0!==e.itemUndo&&e.itemUndo.length>0){var n=e.itemUndo.pop();if(void 0!==n)return e.lists[t].items.push(n),void O.info("Item restored")}O.warn("Nothing to undo")},undoListDeletion:function(e){if(void 0!==e.listUndo&&e.listUndo.length>0){var t=e.listUndo.pop();if(void 0!==t)return e.lists.push(t),void O.info('List "'.concat(t.name,'" restored'))}O.warn("Nothing to undo")},addItem:function(e,t){var n=t.payload,o=n.name,a=n.comment,r=n.category,i=e.selectedList;void 0!==i&&K(i,e.lists)&&e.lists[i].items.push({id:L(),name:o,comment:a,enabled:!0,category:r})},editItem:function(e,t){var n=e.dialogState;if(n&&n.type===o.EDIT_ITEM){var a=n.index,r=t.payload,i=r.name,c=r.comment,l=r.listIndex,s=r.category,u=e.selectedList,d=a;if(void 0!==u&&K(u,e.lists)&&K(d,e.lists[u].items)){var f=e.lists[u].items[d];if(f.name=i,f.comment=c,f.category=s,void 0!==l&&u!==l&&K(l,e.lists)){var p=e.lists[u].items.splice(d,1),g=Object(m.a)(p,1)[0];e.lists[l].items.push(g),O.info("Item moved")}else O.info("Item updated")}}},deleteItem:function(e,t){var n=e.selectedList,o=t.payload;if(void 0!==n&&K(n,e.lists)&&K(o,e.lists[n].items)){var a=e.lists[n].items.splice(o,1),r=Object(m.a)(a,1)[0];void 0===e.itemUndo&&(e.itemUndo=[]),e.itemUndo.push(r),O.info("Item deleted")}},toggleItem:function(e,t){var n=e.selectedList,o=t.payload;if(void 0!==n&&K(n,e.lists)&&K(o,e.lists[n].items)){var a=e.lists[n].items[o];a.enabled=!a.enabled}},openAddListDialog:function(e){e.dialogState={type:o.ADD_LIST}},openEditListDialog:function(e,t){e.dialogState={type:o.EDIT_LIST,index:t.payload}},openAddItemDialog:function(e){e.dialogState={type:o.ADD_ITEM}},openEditItemDialog:function(e,t){e.dialogState={type:o.EDIT_ITEM,index:t.payload}},openSetupGoogleSheetsDialog:function(e){e.dialogState={type:o.SETUP_GOOGLE_SHEETS}},closeDialog:function(e){e.dialogState=void 0},copyToClipboard:function(e){var t,n;(null===(t=navigator)||void 0===t||null===(n=t.clipboard)||void 0===n?void 0:n.writeText)?(navigator.clipboard.writeText(JSON.stringify(e)),O.info("Copied to clipboard")):O.error("ERROR: denied use of browser clipboard")},copyItemsToClipboard:function(e){var t,n,o=e.selectedList;if(void 0!==o&&K(o,e.lists))if(null===(t=navigator)||void 0===t||null===(n=t.clipboard)||void 0===n?void 0:n.writeText){var a=e.lists[o].items,r=R(a);navigator.clipboard.writeText(r),O.info("Copied ".concat(a.length," items to clipboard"))}else O.error("ERROR: denied use of browser clipboard")},updateState:function(e,t){e.selectedList=void 0,e.categoryColorMapper=void 0,Object.assign(e,t.payload)},setGoogleSheetsLoggedIn:function(e,t){e.googleSheetsLoggedIn=t.payload},setGoogleSheetsDetails:function(e,t){e.googleSheets=t.payload}}}),H=V.actions,Y=V.reducer;function X(e,t){e&&!t&&window.history.back()}function q(e,t){!e&&t&&window.history.pushState({isShopperQueued:!0},"shopper")}function Z(){var e;return!0===(null===(e=window.history.state)||void 0===e?void 0:e.isShopperQueued)}var z=Object(u.a)({reducer:Y}),Q=Object(s.a)({},H,{importFromClipboard:function(){return function(e){var t,n;(null===(t=navigator)||void 0===t||null===(n=t.clipboard)||void 0===n?void 0:n.readText)?navigator.clipboard.readText().then((function(t){var n=E(JSON.parse(t));e(H.updateState(n)),O.info("Imported from clipboard")})).catch((function(e){console.log(e),O.error("ERROR: ".concat(e))})):O.error("ERROR: denied use of browser clipboard")}},importFromGoogleSheets:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n){var o,a,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==(o=n()).googleSheets){e.next=5;break}return O.error("Missing google sheets info"),e.abrupt("return");case 5:return a=o.googleSheets.spreadsheetId,r=o.googleSheets.range,e.next=9,J(a,r);case 9:i=e.sent,t(H.updateState(i)),O.info("Imported from google sheet"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),O.error("ERROR: ".concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()},copyToGoogleSheet:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n){var o,a,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==(o=n()).googleSheets){e.next=5;break}return O.error("Missing google sheets info"),e.abrupt("return");case 5:return a=T(o,!0),r=o.googleSheets.spreadsheetId,i=o.googleSheets.range,e.next=10,_(r,i);case 10:return e.next=12,U(r,i,a);case 12:O.info("Copied to google sheet"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),O.error("ERROR: ".concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()},addItemsFromClipboard:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n){var o,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(o=navigator)||void 0===o||null===(a=o.clipboard)||void 0===a?void 0:a.readText)?navigator.clipboard.readText().then((function(e){var o=A(e),a=n(),r=a.selectedList;if(o.length>0&&void 0!==r&&K(r,a.lists)){var i,c,l=JSON.parse(JSON.stringify(a)),s=o.map((function(e){var t=e.name,n=e.comment;return{id:L(),name:t,comment:n,enabled:!0}}));(i=l.lists[r].items).push.apply(i,Object(d.a)(s)),t(H.updateState(l)),O.info("Added ".concat(null!==(c=o.length)&&void 0!==c?c:0," items from clipboard"))}else O.error("Failed to add items from clipboard")})).catch((function(e){console.log(e),O.error("ERROR: ".concat(e))})):O.error("ERROR: denied use of browser clipboard");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}});z.subscribe((function(){var e=z.getState();!function(e){var t=Object(s.a)({},e,{dialogState:void 0,listUndo:void 0,itemUndo:void 0,googleSheetsLoggedIn:void 0});localStorage.setItem("shopper-state",JSON.stringify(t))}(e);var t=Z(),n=void 0!==e.selectedList;q(t,n),X(t,n)}));var $=n(434),ee=n(455),te=n(439),ne=n(440),oe=n(53),ae=n(196),re=n.n(ae),ie=n(430),ce=n(192),le=n.n(ce),se=Object($.a)((function(e){return Object(ee.a)({button:{color:"inherit"}})})),ue=Object(l.b)((function(){return{}}),{openDialog:function(){return Q.openAddListDialog()}})((function(e){var t=se();return r.a.createElement(ie.a,{className:t.button,edge:"end",title:"Add list",color:"secondary","aria-label":"add",onClick:function(){return e.openDialog()}},r.a.createElement(le.a,null))})),de=n(193),fe=n.n(de),pe=Object($.a)((function(e){return Object(ee.a)({button:{color:"inherit"}})})),ge=Object(l.b)((function(){return{}}),{openDialog:function(){return Q.openAddItemDialog()}})((function(e){var t=pe();return r.a.createElement(ie.a,{className:t.button,edge:"end",title:"Add item",color:"secondary","aria-label":"add",onClick:function(){return e.openDialog()}},r.a.createElement(fe.a,null))})),me=n(207),ve=n(436),he=n(437),be=function(e){var t=ye(),n=r.a.useState(null),o=Object(m.a)(n,2),a=o[0],i=o[1],c=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(ie.a,{className:t.button,"aria-controls":"simple-menu",edge:"end","aria-label":"menu",color:"secondary","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},e.children),r.a.createElement(me.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c},e.actions.flatMap((function(e,t){var n=e.map((function(e,n){var o=e.label,a=e.action,i=e.selected;return r.a.createElement(ve.a,{key:"outer=".concat(t,"-inner").concat(n),onClick:function(){c(),a()},selected:!!i},o)}));return 0!==t&&n.unshift(r.a.createElement(he.a,{key:"divider-".concat(t)})),n}))))},ye=Object($.a)((function(e){return Object(ee.a)({button:{color:"inherit"}})})),Ee=n(198),Se=n.n(Ee),Oe=n(197),Ce=n.n(Oe),xe=n(194),Ie=n.n(xe),ke=n(195),Le=n.n(ke),we=n(438);var je=Object(l.b)((function(e){var t,n;return{clientId:null===(t=e.googleSheets)||void 0===t?void 0:t.clientId,apiKey:null===(n=e.googleSheets)||void 0===n?void 0:n.apiKey,status:e.googleSheetsLoggedIn}}),{setLoginStatus:function(e){return Q.setGoogleSheetsLoggedIn(e)},openDialog:function(){return Q.openSetupGoogleSheetsDialog()}})((function(e){var t=Te();r.a.useEffect((function(){return P(e.apiKey,e.clientId,e.isOnline,e.setLoginStatus)}),[e.apiKey,e.clientId,e.setLoginStatus,e.isOnline]);var n=void 0===e.apiKey||void 0===e.clientId||!1===e.status||!1===e.isOnline?r.a.createElement(Ie.a,null):!0===e.status?r.a.createElement(Le.a,null):r.a.createElement(we.a,{color:"inherit",size:30});return r.a.createElement(ie.a,{className:t.button,edge:"end",title:"Google Sheets API Access Status",color:"secondary","aria-label":"google-sheets",onClick:function(){return e.openDialog()}},n)})),Te=Object($.a)((function(e){return Object(ee.a)({button:{color:"inherit"}})})),De=Object($.a)((function(e){return Object(ee.a)({root:{flexGrow:0},title:{flexGrow:0},menuButton:{flexGrow:0},rightButton:{flexGrow:1,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})}));var Me=Object(l.b)((function(e){if(void 0!==e.selectedList){var t=e.lists[e.selectedList],n=t.name;return{selectedList:{totalItemCount:t.items.length,pendingItemCount:t.items.reduce((function(e,t){return e+Number(!!t.enabled)}),0),listName:n},googleSheetsEnabled:!0===e.googleSheetsLoggedIn,sortMode:e.sortMode,categoryMode:e.categoryMode,itemClick:e.itemClick,googleSheetActions:e.googleSheetActions}}return{googleSheetsEnabled:!0===e.googleSheetsLoggedIn,selectedList:void 0,sortMode:"default",categoryMode:"text",itemClick:e.itemClick,googleSheetActions:e.googleSheetActions}}),{deselectList:function(){return Q.deselectList()},copyItemsToClipboard:function(){return Q.copyItemsToClipboard()},copyToClipboard:function(){return Q.copyToClipboard()},importFromClipboard:function(){return Q.importFromClipboard()},copyToGoogleSheet:function(){return Q.copyToGoogleSheet()},importFromGoogleSheets:function(){return Q.importFromGoogleSheets()},undoItemDeletion:function(){return Q.undoItemDeletion()},undoListDeletion:function(){return Q.undoListDeletion()},addItemsFromClipboard:function(){return Q.addItemsFromClipboard()},setDefaultSort:function(){return Q.setDefaultSort()},setCategorySort:function(){return Q.setCategorySort()},setAlphabeticSort:function(){return Q.setAlphabeticSort()},toggleItemClick:function(){return Q.toggleItemClick()},toggleGoogleSheetActions:function(){return Q.toggleGoogleSheetActions()},setTextCategoryMode:function(){return Q.setTextCategoryMode()},setHiddenCategoryMode:function(){return Q.setHiddenCategoryMode()},setColorCategoryMode:function(){return Q.setColorCategoryMode()}})((function(e){var t=De(),n="Shopper";if(e.selectedList){var o=e.selectedList,a=o.listName,i=o.pendingItemCount,c=o.totalItemCount;n=a,c>0&&(n="(".concat(i,") ").concat(n))}var l=[{label:"copy list items to clipboard",action:function(){return e.copyItemsToClipboard()}},{label:"add items from clipboard",action:function(){return e.addItemsFromClipboard()}}],s=[{label:"".concat(e.itemClick?"disable":"enable"," item click"),action:function(){return e.toggleItemClick()}}],u=[{label:"import from google sheet",action:function(){return e.importFromGoogleSheets()}},{label:"export to google sheet",action:function(){return e.copyToGoogleSheet()}}],d=[[{label:"".concat(e.googleSheetActions?"disable":"enable"," google sheet actions"),action:function(){return e.toggleGoogleSheetActions()}}],[{label:"load app state from clipboard",action:function(){return e.importFromClipboard()}},{label:"copy app state to clipboard",action:function(){return e.copyToClipboard()}}],[{label:"undo ".concat(e.selectedList?"item":"list"," deletion"),action:function(){return e.selectedList?e.undoItemDeletion():e.undoListDeletion()}}]];e.googleSheetsEnabled&&e.googleSheetActions&&d.unshift(u),e.selectedList&&(d.unshift(s),d.unshift(l));var f=[[{label:"default sort",action:function(){return e.setDefaultSort()},selected:"default"===e.sortMode},{label:"category sort",action:function(){return e.setCategorySort()},selected:"categories"===e.sortMode},{label:"alphabetic sort",action:function(){return e.setAlphabeticSort()},selected:"alphabetic"===e.sortMode}],[{label:"hidden category",action:function(){return e.setHiddenCategoryMode()},selected:"hidden"===e.categoryMode},{label:"text category",action:function(){return e.setTextCategoryMode()},selected:"text"===e.categoryMode},{label:"color category",action:function(){return e.setColorCategoryMode()},selected:"color"===e.categoryMode}]],p=r.a.useState(navigator.onLine),g=Object(m.a)(p,2),v=g[0],h=g[1];return window.addEventListener("online",(function(){return h(!0)})),window.addEventListener("offline",(function(){return h(!1)})),r.a.useEffect((function(){var t=Z(),n=void 0!==e.selectedList;q(t,n),X(t,n),window.addEventListener("popstate",(function(){e.deselectList()}))}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(te.a,{position:"static"},r.a.createElement(ne.a,null,e.selectedList&&r.a.createElement(ie.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return e.deselectList()}},r.a.createElement(re.a,null)),r.a.createElement(oe.a,{variant:"h6",className:t.title,onClick:function(){"Shopper"===n&&S.c.info("commit: fb2bf97 (2022-08-20T16:08:23.051Z)")}},n),e.googleSheetActions&&r.a.createElement(je,{isOnline:v}),r.a.createElement("div",{className:t.rightButton},e.selectedList?r.a.createElement(ge,null):r.a.createElement(ue,null)),e.selectedList&&r.a.createElement(be,{actions:f},r.a.createElement(Ce.a,null)),r.a.createElement(be,{actions:d},r.a.createElement(Se.a,null)))))})),Ae=n(200),Re=n(435),Ne=n(393),Ge=n(441),Pe=function(e){var t=void 0!==e.position,n=void 0!==e.position?{top:e.position.y,left:e.position.x}:void 0;return r.a.createElement(me.a,{keepMounted:!0,open:t,onClose:function(){return e.onClose()},anchorReference:"anchorPosition",anchorPosition:n},e.actions.flatMap((function(t,n){var o=t.map((function(t,o){var a=t.label,i=t.action;return r.a.createElement(ve.a,{key:"outer=".concat(n,"-inner").concat(o),onClick:function(){if(e.position){var t=e.position.index;e.onClose(),null!==t&&i(t)}}},a)}));return 0!==n&&o.unshift(r.a.createElement(he.a,{key:"divider-".concat(n)})),o})))},Ue=n(204),We=n.n(Ue),_e=n(203),Fe=n.n(_e),Je=n(201),Be=n.n(Je),Ke=n(202),Ve=n.n(Ke),He=n(199),Ye=n.n(He),Xe=function(e){var t=ze(),n=r.a.useRef({x:0,time:0}),o=function(e){n.current.x=e.screenX,n.current.time=Date.now()},i=function(t){return function(o){Math.abs(o.screenX-n.current.x)>10?o.preventDefault():e.clickEnabled&&"click"===o.type&&e.onClick(t)}},c=function(t,n){return function(o){o<n?e.onClick(t):o>n&&e.onDelete(t)}},l=r.a.useState(void 0),s=Object(m.a)(l,2),u=s[0],d=s[1],f=function(e){return function(t){t.preventDefault(),d({x:t.clientX-4,y:t.clientY-4,index:e})}},p=Object(a.forwardRef)((function(e,t){return r.a.createElement("div",{ref:t},e.children)}));return r.a.createElement("div",{className:t.root},r.a.createElement(Pe,{position:u,onClose:function(){d(void 0)},actions:e.actions}),r.a.createElement(Re.a,{component:"nav",className:t.list},r.a.createElement(Ae.a,{enterAnimation:"fade",leaveAnimation:"fade"},e.lists.map((function(n,a){var l=n.id,s=n.name,u=n.comment,d=n.enabled,g=n.index,m=n.category,v=[r.a.createElement(Ne.a,{key:"middle-panel",className:!1!==d?t.enabledItem:t.disabledItem,style:{backgroundColor:"color"===e.categoryMode&&e.extractColor?e.extractColor(m):void 0},button:!0,onContextMenu:f(g),onClick:i(g),onMouseDown:o},r.a.createElement(Ge.a,{primary:s,secondary:u}),m&&"text"===e.categoryMode&&r.a.createElement("div",null,m)),Ze];e.swipeRight&&v.unshift(qe);var h=e.swipeRight?1:0,b="".concat(l,"-").concat(d),y=e.lists.length-1===a?{paddingBottom:"50px"}:{};return r.a.createElement(p,{key:b},r.a.createElement(Ye.a,{style:y,key:b,index:h,enableMouseEvents:!0,onChangeIndex:c(g,h)},v))})))))},qe=r.a.createElement("div",{key:"left-panel",style:{backgroundColor:"#a9f58c",height:"100%",direction:"rtl"}},r.a.createElement(Be.a,{style:{height:"100%",marginRight:"10px",color:"gray"}}),r.a.createElement(Ve.a,{style:{height:"100%",marginRight:"10px"}})),Ze=r.a.createElement("div",{key:"right-panel",style:{backgroundColor:"#ed837b",height:"100%"}},r.a.createElement(Fe.a,{style:{height:"100%",marginLeft:"10px",color:"gray"}}),r.a.createElement(We.a,{style:{height:"100%",marginLeft:"10px"}})),ze=Object($.a)((function(e){return Object(ee.a)({root:{backgroundColor:e.palette.background.default,flex:"1",height:"90vh",display:"flex",flexDirection:"column"},list:{overflowY:"scroll",overflowX:"hidden",minHeight:"100%",backgroundColor:e.palette.background.default},enabledItem:{backgroundColor:"white",userSelect:"none",textDecoration:"none",opacity:"1"},disabledItem:{backgroundColor:"white",userSelect:"none",textDecoration:"line-through",opacity:"0.5","&:hover":{textDecoration:"line-through"}},menuButton:{color:e.palette.grey[500]}})})),Qe={onDelete:function(e){return Q.deleteList(e)},onEdit:function(e){return Q.openEditListDialog(e)},onClick:function(e){return Q.selectList(e)}};var $e=Object(l.b)((function(e){return{lists:e.lists.map((function(e,t){var n=e.id,o=e.name,a=e.items;return{id:n,name:o,comment:"".concat(a.length," items"),index:t}}))}}),Qe)((function(e){return r.a.createElement(Xe,Object.assign({},e,{swipeRight:!1,clickEnabled:!0,actions:[[{label:"Edit",action:function(t){return e.onEdit(t)}}],[{label:"Delete",action:function(t){return e.onDelete(t)}}]]}))})),et=n(450),tt=n(452),nt=n(446),ot=n(453),at=n(445),rt=n(443),it=n(444),ct=n(442),lt=function(e){var t=Object(l.c)();function n(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.onClose(n),o?t(H.closeDialog()):e.onOpen()}return r.a.createElement("div",null,r.a.createElement(ot.a,{fullScreen:!0,open:e.isOpen,onEnter:function(){e.onOpen()},onClose:function(){return n(!1)}},r.a.createElement(ct.a,null,e.title),r.a.createElement(rt.a,null,r.a.createElement(it.a,null,e.description),e.children),r.a.createElement(at.a,null,void 0!==e.another&&r.a.createElement(nt.a,{onClick:function(){return n(!0,!1)},color:"primary",disabled:!e.isValid},e.another),void 0!==e.another&&r.a.createElement("div",{style:{flex:"1 0 0"}}),void 0!==e.cancel&&r.a.createElement(nt.a,{onClick:function(){return n(!1)},color:"primary"},e.cancel),r.a.createElement(nt.a,{onClick:function(){return n(!0)},color:"primary",disabled:!e.isValid},e.ok))))},st=n(447),ut=function(e){return e.trim().length>0},dt=function(e){var t,n,o=ut(e.value),a=r.a.useState(o),i=Object(m.a)(a,2),c=i[0],l=i[1],s=r.a.useState(e.value),u=Object(m.a)(s,2),d=u[0],f=u[1],v=r.a.useState({includeClipboard:!1,items:[]}),h=Object(m.a)(v,2),b=h[0],y=h[1];function E(){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:return t=e.sent,e.abrupt("return",A(t));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error importing from clipboard: ".concat(e.t0)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(g.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.checked)){e.next=7;break}return e.next=4,E();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:o=e.t0,y({includeClipboard:n,items:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=b.includeClipboard?"".concat(b.items.length," "):" ",x="Include ".concat(C,"items from clipboard"),I=void 0!==(null===(t=navigator)||void 0===t||null===(n=t.clipboard)||void 0===n?void 0:n.readText),k=r.a.useRef(null);return r.a.createElement(lt,{isOpen:e.isOpen,isValid:c,onOpen:function(){f(e.value),l(ut(e.value)),y({includeClipboard:!1,items:[]}),k.current&&k.current.focus()},onClose:function(t){t&&e.onCommit({name:d,items:b.includeClipboard?b.items:[]})},title:e.title,description:e.descriptionText,ok:e.okText,another:e.anotherText,cancel:e.cancelText},r.a.createElement(et.a,{error:!c,inputRef:function(e){k.current=e},margin:"dense",label:"List name",type:"text",onChange:function(e){var t=e.target.value;f(t),l(ut(t))},fullWidth:!0,value:d,InputLabelProps:{shrink:!0}}),!e.isEdit&&I&&r.a.createElement(st.a,{control:r.a.createElement(tt.a,{checked:b.includeClipboard,onChange:function(e){return O.apply(this,arguments)},color:"primary"}),label:x}))},ft=Object(l.b)((function(e){var t;return{isOpen:(null===(t=e.dialogState)||void 0===t?void 0:t.type)===o.ADD_LIST}}),{onCommit:function(e){return e&&Q.addList(e)}})((function(e){return r.a.createElement(dt,Object.assign({value:"",title:"Create List",okText:"Add",cancelText:"Cancel",anotherText:"Add Another",isEdit:!1,descriptionText:"Pick the name for your new list."},e))})),pt=n(454),gt=n(205);function mt(e){return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(pt.a,{shrink:!0,htmlFor:"age-native-label-placeholder"},e.title),r.a.createElement(gt.a,{fullWidth:!0,value:e.value,onChange:function(t){return e.onChange(t.target.selectedIndex)}},e.choices.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))))}var vt=function(e){var t=e.name;e.category;return{name:t.trim().length>0,comment:!0,category:!0}},ht=function(e){var t=vt(e.value),n=r.a.useState(t),o=Object(m.a)(n,2),a=o[0],i=o[1],c=r.a.useState(Object(s.a)({},e.value,{category:e.value.category||""})),l=Object(m.a)(c,2),u=l[0],f=l[1],p=r.a.useState(e.selectedList),g=Object(m.a)(p,2),v=g[0],h=g[1],b=r.a.useState(!1),y=Object(m.a)(b,2),E=y[0],S=y[1];var O=r.a.useRef(null),C=e.value.category,x=e.categories.length<=0,I=void 0!==C&&e.categories.indexOf(C)<0,k=E||x||I;return r.a.createElement("div",null,r.a.createElement(lt,{isOpen:e.isOpen,description:e.descriptionText,isValid:a.name&&a.comment&&a.category,onOpen:function(){f(Object(s.a)({},e.value,{category:e.value.category||""})),i(vt(e.value)),h(e.selectedList),S(!1),O.current&&O.current.focus()},onClose:function(t){if(t){var n=u.category;e.onCommit(Object(s.a)({},u,{category:n.trim().length<=0?void 0:n,listIndex:v}))}},title:e.title,ok:e.okText,another:e.anotherText,cancel:e.cancelText},r.a.createElement(et.a,{error:!a.name,inputRef:function(e){O.current=e},margin:"dense",label:"Item name",placeholder:"What's the name of the item?",type:"text",onChange:function(e){var t=Object(s.a)({},u,{name:e.target.value});f(t),i(vt(t))},fullWidth:!0,value:u.name,InputLabelProps:{shrink:!0}}),r.a.createElement(et.a,{error:!a.comment,margin:"dense",label:"Comment (optional)",placeholder:"How many of this item?",value:u.comment,onChange:function(e){var t=Object(s.a)({},u,{comment:e.target.value});f(t),i(vt(t))},type:"text",fullWidth:!0,InputLabelProps:{shrink:!0}}),!k&&r.a.createElement(mt,{title:"Category",value:u.category,onChange:function(t){return function(t){if(0===t){var n=Object(s.a)({},u,{category:""});return f(n),void i(vt(n))}if(t-1<e.categories.length){var o=Object(s.a)({},u,{category:e.categories[t-1]});return f(o),void i(vt(o))}var a=Object(s.a)({},u,{category:""});f(a),i(vt(a)),S(!0)}(t)},choices:["[None]"].concat(Object(d.a)(e.categories),["[Add Category]"])}),k&&r.a.createElement(et.a,{autoFocus:!0,error:!a.category,margin:"dense",label:"Category (optional)",placeholder:"Which category?",value:u.category,onChange:function(e){var t=Object(s.a)({},u,{category:e.target.value});f(t),i(vt(t))},type:"text",fullWidth:!0,InputLabelProps:{shrink:!0}}),e.listOptions&&void 0!==v&&r.a.createElement(mt,{title:"List (optional, moves item to another list)",value:e.listOptions[v],onChange:function(e){h(e)},choices:e.listOptions})))},bt={name:"",comment:"",category:void 0};function yt(e){var t=new Set;return e.lists.forEach((function(e){return e.items.filter((function(e){return void 0!==e.category})).forEach((function(e){return t.add(e.category)}))})),Array.from(t)}var Et=Object(l.b)((function(e){var t;return{isOpen:(null===(t=e.dialogState)||void 0===t?void 0:t.type)===o.ADD_ITEM,categories:yt(e)}}),{onCommit:function(e){return e&&Q.addItem(e)}})((function(e){return r.a.createElement(ht,Object.assign({value:bt,title:"Create Item",okText:"Add",cancelText:"Cancel",anotherText:"Add Another",descriptionText:"Pick the name for your new item."},e))})),St=Object(l.b)((function(e){var t=e.dialogState;return(null===t||void 0===t?void 0:t.type)===o.EDIT_LIST&&t.index>=0&&t.index<e.lists.length?{isOpen:!0,initialValue:e.lists[t.index].name}:{isOpen:!1,initialValue:""}}),{onCommit:function(e){return Q.editList(e)}})((function(e){return r.a.createElement(dt,Object.assign({value:e.initialValue,title:"Edit List",okText:"Update",cancelText:"Cancel",isEdit:!0,descriptionText:"Pick the name for your list."},e,{onCommit:function(t){return t&&e.onCommit(t.name)}}))})),Ot=Object(l.b)((function(e){var t=e.dialogState,n=e.selectedList;return void 0!==n&&n>=0&&n<e.lists.length&&(null===t||void 0===t?void 0:t.type)===o.EDIT_ITEM&&t.index>=0&&t.index<e.lists[n].items.length?{isOpen:!0,initialValue:e.lists[n].items[t.index],listOptions:e.lists.map((function(e){return e.name})),selectedList:n,categories:yt(e)}:{isOpen:!1,initialValue:{name:"",comment:""},categories:[],listOptions:void 0,selectedList:void 0}}),{onCommit:function(e){return e&&Q.editItem(e)}})((function(e){return r.a.createElement(ht,Object.assign({value:e.initialValue,title:"Edit List",okText:"Update",cancelText:"Cancel",descriptionText:"Pick the name for your list."},e))})),Ct=n(130),xt=n.n(Ct),It=n(206);function kt(e){return e.trim().length>0}var Lt=Object($.a)((function(e){return Object(ee.a)({helperText:{marginTop:20,marginBottom:0}})})),wt=Object(l.b)((function(e){var t,n,a,r,i,c,l,s,u;return{spreadsheetId:null!==(t=null===(n=e.googleSheets)||void 0===n?void 0:n.spreadsheetId)&&void 0!==t?t:"",range:null!==(a=null===(r=e.googleSheets)||void 0===r?void 0:r.range)&&void 0!==a?a:"",clientId:null!==(i=null===(c=e.googleSheets)||void 0===c?void 0:c.clientId)&&void 0!==i?i:"",apiKey:null!==(l=null===(s=e.googleSheets)||void 0===s?void 0:s.apiKey)&&void 0!==l?l:"",isOpen:(null===(u=e.dialogState)||void 0===u?void 0:u.type)===o.SETUP_GOOGLE_SHEETS}}),{onCommit:function(e){return Q.setGoogleSheetsDetails(e)}})((function(e){var t=r.a.useState(e.spreadsheetId),n=Object(m.a)(t,2),o=n[0],a=n[1],i=r.a.useState(e.range),c=Object(m.a)(i,2),l=c[0],s=c[1],u=r.a.useState(e.clientId),d=Object(m.a)(u,2),f=d[0],p=d[1],g=r.a.useState(e.apiKey),h=Object(m.a)(g,2),b=h[0],E=h[1];var S=r.a.useRef(null),C=kt(b),x=kt(f),I=kt(l),k=kt(o),L=Lt();return r.a.createElement(lt,{isOpen:e.isOpen,isValid:C&&x&&I&&k,onOpen:function(){a(e.spreadsheetId),s(e.range),p(e.clientId),E(e.apiKey),S.current&&S.current.focus()},onClose:function(t){if(t){if(b.startsWith("secret:")){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It,n=xt.a.AES.decrypt(t,e),o=JSON.parse(n.toString(xt.a.enc.Utf8)),a=new y.a({allErrors:!0}),r=a.compile(v);if(r(o))return o;throw console.error("Decrypted object:\n  ".concat(JSON.stringify(o,null,2),"\n  Failed validation:\n  ").concat(JSON.stringify(r.errors,null,2))),Error("Invalid decrypt")}(b.slice("secret:".length));e.onCommit(n),O.info("Decrypted. Refresh required.")}else e.onCommit({spreadsheetId:o,range:l,clientId:f,apiKey:b})}},title:"Setup Google Sheets",description:"Setup details for accessing GoogleSheets.",ok:"Done",cancel:"Cancel"},r.a.createElement(it.a,{className:L.helperText},"GoogleSheets API access details. (Requires page refresh to reflect changes.)"),r.a.createElement(et.a,{error:!C,inputRef:function(e){S.current=e},margin:"dense",label:"API Key",type:"text",onChange:function(e){return E(e.target.value)},fullWidth:!0,value:b,InputLabelProps:{shrink:!0}}),r.a.createElement(et.a,{error:!x,margin:"dense",label:"Client ID",type:"text",onChange:function(e){return p(e.target.value)},fullWidth:!0,value:f,InputLabelProps:{shrink:!0}}),r.a.createElement(it.a,{className:L.helperText},"Target spreadsheet and sheet name ids."),r.a.createElement(et.a,{error:!k,margin:"dense",label:"Spreadsheet ID",type:"text",onChange:function(e){return a(e.target.value)},fullWidth:!0,value:o,InputLabelProps:{shrink:!0}}),r.a.createElement(et.a,{error:!I,margin:"dense",label:"Sheet Name",type:"text",onChange:function(e){return s(e.target.value)},fullWidth:!0,value:l,InputLabelProps:{shrink:!0}}))})),jt=["#70d470","#ffdb66","#0076ff","#d5ff00","#ff937e","#007db5","#ff00f6","#90fb92","#7979fa","#f16d6d","#40f7f7","#ffa6fe","#6a826c","#ff029d","#fe8900","#7a4782","#7e2dd2","#85a900","#ff0056","#a42400","#00ae7e","#42af44","#683d3b","#bdd393","#00b917","#9e008e","#c28c9f","#ff74a3","#01d0ff","#004754","#e56ffe","#788231","#0e4ca1","#91d0cb","#be9970","#968ae8","#bb8800","#deff74","#00ffc6","#ffe502","#620e00","#008f9c","#98ff52","#7544b1","#b500ff","#00ff78","#ff6e41","#005f39","#6b6882","#5fad4e","#a75740","#a5ffd2","#ffb167","#009bff","#e85ebe"],Tt=function(e,t){return Number(!e.enabled)-Number(!t.enabled)},Dt=function(e,t){var n=Tt(e,t);if(0!==n)return n;var o=e.name,a=t.name;return void 0===o||void 0===a?Number(void 0===o)-Number(void 0===a):o.localeCompare(a)},Mt=function(e,t){var n=Tt(e,t);if(0!==n)return n;var o=e.category,a=t.category;return void 0===o||void 0===a?Number(void 0===o)-Number(void 0===a):o.localeCompare(a)};var At={onDelete:function(e){return Q.deleteItem(e)},onEdit:function(e){return Q.openEditItemDialog(e)},onClick:function(e){return Q.toggleItem(e)},toggleClick:function(){return Q.toggleItemClick()}};var Rt=Object(l.b)((function(e){var t=e.selectedList,n="categories"===e.sortMode?Mt:"alphabetic"===e.sortMode?Dt:Tt;if(void 0!==t){var o="color"===e.categoryMode?function(e){var t=e.categoryColorMapper;if(void 0!==t)return function(e){if(void 0!==e)return t[e]};var n=yt(e);return function(e){if(void 0!==e){var t=n.indexOf(e);return-1!==t&&t<jt.length?jt[t]:void 0}}}(e):function(){};return{lists:e.lists[t].items.map((function(e,t){return Object(s.a)({},e,{index:t})})).sort(n),categoryMode:e.categoryMode,clickEnabled:e.itemClick,extractColor:o}}return{lists:[],clickEnabled:e.itemClick}}),At)((function(e){return r.a.createElement(Xe,Object.assign({},e,{swipeRight:!0,actions:[[{label:"Edit",action:function(t){return e.onEdit(t)}}],[{label:"Delete",action:function(t){return e.onDelete(t)}}]]}))}));var Nt=Object(l.b)((function(e){return{isListSelected:void 0!==e.selectedList}}))((function(e){var t=[];return e.isListSelected?(t.push(r.a.createElement(Rt,{key:"item-list"})),t.push(r.a.createElement(Et,{key:"item-add-dialog"})),t.push(r.a.createElement(Ot,{key:"item-edit-dialog"})),t.push(r.a.createElement(wt,{key:"setup-google-sheets-dialog"}))):(t.push(r.a.createElement($e,{key:"list"})),t.push(r.a.createElement(ft,{key:"list-add-dialog"})),t.push(r.a.createElement(St,{key:"list-edit-dialog"})),t.push(r.a.createElement(wt,{key:"setup-google-sheets-dialog"}))),r.a.createElement("div",{style:{flex:1,display:"flex",flexFlow:"column",height:"100%"}},r.a.createElement(Me,null),r.a.createElement(C,null),t)})),Gt=n(448),Pt=n(449),Ut=Object(Gt.a)({props:{MuiButtonBase:{disableRipple:!0}},transitions:{create:function(){return"none"}}}),Wt=Object($.a)((function(e){return Object(ee.a)({app:{minHeight:"100vh",height:"100%",display:"flex",overflow:"hidden",flexDirection:"column"}})})),_t=function(){var e=Wt();return r.a.createElement(Pt.a,{theme:Ut},r.a.createElement("div",{className:e.app},r.a.createElement(Nt,null)))},Ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.addEventListener("DOMContentLoaded",(function(){var e=new URL(window.location.href).searchParams.get("text");if(null!==e){var t,n,o=A(e);if(null===(t=navigator)||void 0===t||null===(n=t.clipboard)||void 0===n?void 0:n.writeText){var a=R(o);navigator.clipboard.writeText(a),O.info("Copied ".concat(o.length," items to clipboard"))}else O.error("ERROR: denied use of browser clipboard")}})),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:z},r.a.createElement(_t,null))),document.getElementById("root")),function(){var e=new URL(window.location.href).searchParams.get("debug");return Boolean(e)}()?(console.log("No service worker enabled."),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))):function(e){if("serviceWorker"in navigator){if(new URL("/shopper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/shopper","/service-worker.js");Ft?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Jt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Jt(t,e)}))}}()}},[[222,1,2]]]);
//# sourceMappingURL=main.f0ecdefc.chunk.js.map